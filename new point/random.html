<!DOCTYPE html>
<html>
<head>
  <title>Google Maps 隨機新增點示例</title>
  <style>
    /* 定義地圖容器的樣式 */
    #map {
      height: 400px;
      width: 100%;
    }
  </style>
</head>
<body>
  <h1>Google Maps 隨機新增點示例</h1>

  <button onclick="addRandomPoint()">新增隨機點</button>

  <div id="map"></div>

  <script>
    // 創建一個 Google Maps 初始化函數
    function initMap() {
      // 初始化地圖
      var map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: 40.7128, lng: -74.0060}, // 設置地圖中心座標
        zoom: 12 // 設置地圖縮放級別
      });

      // 將全局的地圖變數儲存起來
      window.map = map;
    }

    // 新增隨機點的函數
    function addRandomPoint() {
      var map = window.map;
      var bounds = {
        north: 24.111168677028953, // 範圍的北界緯度
        south: 23.817656112221012, // 範圍的南界緯度
        west:  120.63189979242432,// 範圍的西界經度
        east:  120.39082776697619  // 範圍的東界經度
      };

      var randomLat = Math.random() * (bounds.north - bounds.south) + bounds.south; // 在範圍內生成隨機緯度
      var randomLng = Math.random() * (bounds.east - bounds.west) + bounds.west; // 在範圍內生成隨機經度

      var randomLatLng = new google.maps.LatLng(randomLat, randomLng); // 創建隨機座標

      var marker = new google.maps.Marker({
        position: randomLatLng, // 設置標記的座標
        map: map // 設置標記所在的地圖
      });

      map.panTo(randomLatLng); // 將地圖視圖移動到新增的點
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAewWLaU_k0ZoEKYT4JslOjsA3_fM3xujY&callback=initMap" async defer></script>
</body>
</html>
